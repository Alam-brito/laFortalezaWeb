import{i as f,C as _,r as c,z as v,c as o,t as l,d as b,a as e,l as w,v as k,b as p,f as u,u as g,F as M,k as z,o as d,h as x,P as C,K as T}from"./app-D9ZzZpws.js";import{P as j}from"./PrimaryButton-BtnyNVJ4.js";import{d as L}from"./index-B42prWQl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"flex flex-col md:flex-row min-h-screen bg-gray-100 dark:bg-gray-900 p-4 gap-4"},S={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded mb-4"},V={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},A={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},P={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},$={class:"w-full md:w-1/2"},B={class:"flex items-center"},E={class:"relative w-full"},N={class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},F={type:"button",class:"flex items-center justify-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800"},I={class:"overflow-x-auto"},D={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},R={class:"px-4 py-3"},U=["innerHTML"],G={class:"px-4 py-3"},K=["innerHTML"],q={class:"px-4 py-3"},J={class:"px-4 py-3"},O=["innerHTML"],Q={class:"px-4 py-3"},W={key:0},X={key:1},Y={class:"px-4 py-3"},Z={class:"px-4 py-3 flex items-center justify-end"},ee=["id","data-dropdown-toggle"],te=["id"],se={class:"py-1"},ie={__name:"VistaInventario",setup(re){const h=f().props.inventarios,m=_({}),n=c(""),y=r=>{m.delete(route("admin.inventario.delete",r),{onSuccess:()=>{n.value="Inventario borrado correctamente.",setTimeout(()=>{n.value=""},2e3),L.Inertia.reload()}})},a=c("");v(a,r=>{const t=new URL(route("admin.inventarios.index"));t.searchParams.set("search",r),T.visit(t.toString(),{preserveScroll:!0,preserveState:!0,replace:!0})});const i=(r,t)=>{if(!t)return r;const s=new RegExp(`(${t})`,"gi");return r.replace(s,'<span class="bg-yellow-400">$1</span>')};return(r,t)=>(d(),o("section",H,[n.value?(d(),o("div",S,l(n.value),1)):b("",!0),e("div",V,[e("div",A,[e("div",P,[e("div",$,[e("form",B,[t[2]||(t[2]=e("label",{for:"simple-search",class:"sr-only"},"Search",-1)),e("div",E,[t[1]||(t[1]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),type:"text",id:"search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Buscar"},null,512),[[k,a.value]])])])]),e("div",N,[e("button",F,[t[4]||(t[4]=e("svg",{class:"h-3.5 w-3.5 mr-2",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})],-1)),p(g(C),{href:r.route("admin.inventarios.crear")},{default:u(()=>t[3]||(t[3]=[x("Ajustar inventario")])),_:1},8,["href"])])])]),e("div",I,[e("table",D,[t[7]||(t[7]=e("thead",{class:"text-xs text-gray-700 uppercase bg-blue-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"Producto"),e("th",{scope:"col",class:"px-4 py-3"},"Almacén"),e("th",{scope:"col",class:"px-4 py-3"},"Stock"),e("th",{scope:"col",class:"px-4 py-3"},"Tipo de Ajuste"),e("th",{scope:"col",class:"px-4 py-3"},"Cantidad"),e("th",{scope:"col",class:"px-4 py-3"},"Fecha de Actualización"),e("th",{scope:"col",class:"px-4 py-3"},"Acción")])],-1)),e("tbody",null,[(d(!0),o(M,null,z(g(h),s=>(d(),o("tr",{key:s.detalle_id,class:"border-b dark:border-gray-700"},[e("td",R,[e("span",{innerHTML:i(s.producto_nombre,a.value)},null,8,U)]),e("td",G,[e("span",{innerHTML:i(s.almacen_nombre,a.value)},null,8,K)]),e("td",q,l(s.stock),1),e("td",J,[e("span",{innerHTML:i(s.tipo_ajuste,a.value)},null,8,O)]),e("td",Q,[s.tipo_ajuste=="ingreso"?(d(),o("div",W," + "+l(s.cantidad)+" uds. ",1)):(d(),o("div",X," - "+l(s.cantidad)+" uds. ",1))]),e("td",Y,l(s.fecha_actualizacion),1),e("td",Z,[e("button",{id:`dropdown-button-${s.detalle_id}`,"data-dropdown-toggle":`dropdown-${s.detalle_id}`,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},t[5]||(t[5]=[e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})],-1)]),8,ee),e("div",{id:`dropdown-${s.detalle_id}`,class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[e("div",se,[p(j,{onClick:ae=>y(s.detalle_id),class:"w-full block bg-red-600 py-2 px-4 text-sm text-white-700 hover:bg-red-500 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-black"},{default:u(()=>t[6]||(t[6]=[x(" Eliminar ")])),_:2},1032,["onClick"])])],8,te)])]))),128))])])])])])]))}};export{ie as default};
