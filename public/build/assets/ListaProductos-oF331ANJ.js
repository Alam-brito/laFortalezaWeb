import{x as Y,i as E,C as Z,r as c,z as U,B as ee,L as te,j as V,c as a,a as e,h as O,l as m,v,F as f,k,b as L,f as h,o as l,M as P,t as i,d as I,u as n,I as j,N as oe,O as re,w as se,H as ae,K as le}from"./app-DDpxVrWO.js";import"./index-DTOQRBj7.js";import{S as u}from"./sweetalert2-z6gKu1nJ.js";const ne={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-4"},ie={class:"max-w-7xl mx-auto"},de={class:"mb-6 relative group"},ce={class:"overflow-hidden rounded-2xl shadow-xl bg-white dark:bg-gray-800 hidden md:block"},ue={class:"overflow-x-auto"},ge={class:"w-full"},me={class:"divide-y divide-gray-100 dark:divide-gray-700"},be={class:"px-6 py-4"},xe={class:"flex items-center space-x-4"},pe={class:"flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden shadow-sm"},fe=["src"],ke={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},ye=["innerHTML"],ve={class:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2"},he={class:"px-6 py-4"},_e={class:"inline-flex items-center px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-sm font-medium dark:bg-blue-900 dark:text-blue-200"},we={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},Ce={class:"flex items-center"},Be={class:"text-lg"},Me={class:"px-6 py-4"},Se={class:"flex items-center"},Ee={class:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden"},Ve={class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300"},Le={class:"px-6 py-4"},Pe={key:0,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm dark:bg-green-900 dark:text-green-200"},je={key:1,class:"text-gray-400 text-sm"},Te={class:"px-6 py-4"},He={key:0,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm dark:bg-green-900 dark:text-green-200"},$e={key:1,class:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm dark:bg-gray-700 dark:text-gray-300"},ze={class:"px-6 py-4"},Ae={class:"flex space-x-2"},De=["onClick"],Ue=["onClick"],Oe={class:"md:hidden space-y-4"},Ie={class:"p-4"},Ne={class:"flex items-center space-x-3"},qe={class:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0"},Fe=["src"],Ge={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},Re={class:"flex-1 min-w-0"},Je=["innerHTML"],Ke={class:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1"},We={class:"flex items-center space-x-2 mt-1"},Qe={class:"text-base font-medium text-gray-900 dark:text-white"},Xe={key:0,class:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-xs dark:bg-green-900 dark:text-green-200"},Ye={class:"grid grid-cols-2 gap-2 mt-3"},Ze={class:"bg-gray-50 dark:bg-gray-700 p-2 rounded-lg"},et={class:"text-sm font-medium text-gray-900 dark:text-white"},tt={class:"bg-gray-50 dark:bg-gray-700 p-2 rounded-lg"},ot={class:"text-sm font-medium text-gray-900 dark:text-white"},rt={class:"flex items-center justify-between mt-4"},st={key:0,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs dark:bg-green-900 dark:text-green-200"},at={key:1,class:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs dark:bg-gray-700 dark:text-gray-300"},lt={class:"flex space-x-2"},nt=["onClick"],it=["onClick"],dt={class:"relative z-0 w-full mb-5 group"},ct=["value"],ut={class:"mt-4"},gt=["value"],mt={class:"mt-4"},bt={class:"mt-4"},xt={class:"mt-4"},pt=["value"],ft={class:"flex items-center mt-4"},kt={class:"mt-4"},yt={key:0,class:"mt-3 relative"},vt=["src"],ht={class:"flex justify-end space-x-3 mt-6"},_t={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},St={__name:"ListaProductos",setup(wt){const T=Y(()=>E().props.productos);E().props.inventarios;const H=E().props.promociones,r=Z({nombre:"",id_categoria:"",id_almacen:"",descripcion:"",precio:"",id_promocion:"",stock:"0",imagen:null,visible:!0}),_=c([]),w=c([]),y=c(0),N=async()=>{try{_.value=await axios.get(route("ruta.categorias")).then(s=>s.data),w.value=await axios.get(route("ruta.almacenes")).then(s=>s.data)}catch(s){console.error("Error al cargar datos iniciales:",s),u.fire({title:"Error",text:"No se pudieron cargar las categorías o almacenes",icon:"error",confirmButtonText:"Ok"})}},q=async()=>{if(r.id_categoria&&r.id_almacen)try{const s=await axios.post(route("ruta.calcular-stock"),{id_categoria:r.id_categoria,id_almacen:r.id_almacen});y.value=s.data.stock,r.stock=y.value.toString()}catch(s){console.error("Error al calcular el stock:",s),y.value=0,r.stock="0"}else y.value=0,r.stock="0"};U([()=>r.id_categoria,()=>r.id_almacen],()=>{q()}),N();const F=({file:s})=>{if(r.imagen=s,console.log("Archivo subido:",s),s){const t=new FileReader;t.onload=d=>{b.value=d.target.result},t.readAsDataURL(s)}},G=()=>{console.log("Datos que se enviarán:",r),r.post(route("admin.productos.store"),{onSuccess:()=>{u.fire({title:"Éxito",text:"Producto añadido correctamente",icon:"success",confirmButtonText:"Ok"}),r.reset(),g.value=!1},onError:s=>{console.error("Errores en el envío:",s),u.fire({title:"Error",text:"Hubo un problema al añadir el producto",icon:"error",confirmButtonText:"Ok"})},forceFormData:!0})},C=()=>{r.nombre="",r.descripcion="",r.id_categoria="",r.id_almacen="",r.id_promocion="",r.precio="",r.stock="0",r.imagen=null,r.visible=!0,b.value=""},$=c(!1),g=c(!1),x=c(!1),R=s=>{C(),s()},J=()=>{C(),$.value=!0,g.value=!0,x.value=!1},b=c(""),z=async s=>{x.value=!0,$.value=!1,g.value=!0,C(),await ae(),r.id=s.id,r.nombre=s.producto_nombre||"",r.descripcion=s.descripcion||"",r.precio=s.precio||"",r.stock=s.stock?s.stock.toString():"0",r.visible=s.visible!==void 0?s.visible:!0,b.value=s.imagen?`/storage/${s.imagen}`:"",r.imagen=null,setTimeout(()=>{if(s.categoria_nombre){const t=_.value.find(d=>d.nombre===s.categoria_nombre);t?(r.id_categoria=t.id,console.log("Categoría encontrada:",t.nombre,"ID:",t.id)):console.log("Categoría no encontrada:",s.categoria_nombre)}if(s.almacen_nombre){const t=w.value.find(d=>d.nombre===s.almacen_nombre);t?(r.id_almacen=t.id,console.log("Almacén encontrado:",t.nombre,"ID:",t.id)):console.log("Almacén no encontrado:",s.almacen_nombre)}if(s.promocion_descuento&&s.promocion_descuento>0){const t=H.find(d=>d.descuento==s.promocion_descuento);t?r.id_promocion=t.id:r.id_promocion=""}else r.id_promocion=""},100)},K=()=>{g.value=!1,u.fire({title:"¿Estás seguro?",text:"¿Deseas editar este producto?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, editar",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&r.post(route("admin.productos.edit",r.id),{onSuccess:()=>{u.fire({title:"Éxito",text:"Producto editado correctamente",icon:"success",confirmButtonText:"Ok"}),g.value=!1},onError:t=>{console.error("Error al editar:",t),u.fire({title:"Error",text:"Hubo un problema al editar el producto",icon:"error",confirmButtonText:"Ok"})},forceFormData:!0})})},A=s=>{u.fire({title:"¿Estás seguro?",text:"¿Deseas eliminar este producto? Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&r.delete(route("admin.productos.delete",s),{onSuccess:()=>{u.fire({title:"Eliminado",text:"Producto eliminado correctamente",icon:"success",confirmButtonText:"Ok"})},onError:d=>{console.error("Error al eliminar:",d),u.fire({title:"Error",text:"Hubo un problema al eliminar el producto",icon:"error",confirmButtonText:"Ok"})}})})},p=c("");U(p,s=>{const t=new URL(route("admin.productos.index"));t.searchParams.set("search",s),le.visit(t.toString(),{preserveScroll:!0,preserveState:!0,replace:!0})});const D=(s,t)=>{if(!t||!s)return s;const d=new RegExp(`(${t})`,"gi");return s.replace(d,'<span class="bg-yellow-400">$1</span>')};c(null),c(!1);const W=c(!1),B=()=>{W.value=window.innerWidth<768};return ee(()=>{B(),window.addEventListener("resize",B)}),te(()=>{window.removeEventListener("resize",B)}),(s,t)=>{const d=V("el-button"),Q=V("el-upload"),X=V("el-dialog");return l(),a("section",ne,[e("div",ie,[e("div",{class:"flex flex-col md:flex-row items-center justify-between mb-8 p-4 md:p-6 bg-white rounded-2xl shadow-soft-xl dark:bg-gray-800"},[t[13]||(t[13]=e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-4 md:mb-0 text-center md:text-left"},[O(" Gestión de Productos "),e("span",{class:"text-green-600 dark:text-green-400"},"|"),e("span",{class:"text-sm md:text-lg text-gray-500 dark:text-gray-300"},"Panel administrativo")],-1)),e("button",{onClick:J,class:"flex items-center space-x-2 bg-green-600 hover:bg-lime-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto justify-center md:justify-start"},t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Añadir Producto",-1)]))]),e("div",de,[t[14]||(t[14]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400 group-focus-within:text-blue-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),type:"text",class:"w-full pl-12 pr-4 py-3 rounded-xl border-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-lg focus:ring-2 focus:ring-blue-500 transition-all duration-300",placeholder:"Buscar productos..."},null,512),[[v,p.value]])]),e("div",ce,[e("div",ue,[e("table",ge,[t[18]||(t[18]=e("thead",{class:"bg-gradient-to-r from-lime-500 to-blue-600 text-white"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left font-semibold"},"Producto"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Categoría"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Precio"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Stock"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Promoción"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Visibilidad"),e("th",{class:"px-6 py-4 text-left font-semibold"},"Acciones")])],-1)),e("tbody",me,[(l(!0),a(f,null,k(T.value,(o,M)=>(l(),a("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",style:P({animation:`fadeIn 0.3s ease ${M*.05}s forwards`,opacity:0})},[e("td",be,[e("div",xe,[e("div",pe,[o.imagen?(l(),a("img",{key:0,src:`/storage/${o.imagen}`,class:"w-full h-full object-cover transform hover:scale-110 transition-transform"},null,8,fe)):(l(),a("div",ke,t[15]||(t[15]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),e("div",null,[e("div",{class:"font-medium text-gray-900 dark:text-white",innerHTML:D(o.producto_nombre,p.value)},null,8,ye),e("div",ve,i(o.descripcion),1)])])]),e("td",he,[e("span",_e,i(o.categoria_nombre),1)]),e("td",we,[e("div",Ce,[e("span",Be,i(o.precio)+" Bs.",1)])]),e("td",Me,[e("div",Se,[e("div",Ee,[e("div",{class:"h-full bg-green-500 transition-all duration-500",style:P({width:`${Math.min(o.stock/100*100,100)}%`})},null,4)]),e("span",Ve,i(o.stock)+" unidades ",1)])]),e("td",Le,[o.promocion_descuento?(l(),a("span",Pe," -"+i(o.promocion_descuento)+"% ",1)):(l(),a("span",je,"Sin promoción"))]),e("td",Te,[o.visible?(l(),a("span",He," Visible ")):(l(),a("span",$e," Oculto "))]),e("td",ze,[e("div",Ae,[e("button",{onClick:S=>z(o),class:"p-2 hover:bg-blue-100 rounded-lg transition-colors dark:hover:bg-gray-600 tooltip","data-tip":"Editar"},t[16]||(t[16]=[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)]),8,De),e("button",{onClick:S=>A(o.id),class:"p-2 hover:bg-red-100 rounded-lg transition-colors dark:hover:bg-gray-600 tooltip","data-tip":"Eliminar"},t[17]||(t[17]=[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ue)])])],4))),128))])])])]),e("div",Oe,[(l(!0),a(f,null,k(T.value,(o,M)=>(l(),a("div",{key:o.id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",style:P({animation:`fadeIn 0.3s ease ${M*.05}s forwards`,opacity:0})},[e("div",Ie,[e("div",Ne,[e("div",qe,[o.imagen?(l(),a("img",{key:0,src:`/storage/${o.imagen}`,class:"w-full h-full object-cover"},null,8,Fe)):(l(),a("div",Ge,t[19]||(t[19]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),e("div",Re,[e("h3",{class:"text-base font-medium text-gray-900 dark:text-white truncate",innerHTML:D(o.producto_nombre,p.value)},null,8,Je),e("p",Ke,i(o.descripcion),1),e("div",We,[e("span",Qe,i(o.precio)+" Bs.",1),o.promocion_descuento?(l(),a("span",Xe," -"+i(o.promocion_descuento)+"% ",1)):I("",!0)])])]),e("div",Ye,[e("div",Ze,[t[20]||(t[20]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Categoría",-1)),e("p",et,i(o.categoria_nombre),1)]),e("div",tt,[t[21]||(t[21]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Stock",-1)),e("p",ot,i(o.stock)+" unidades",1)])]),e("div",rt,[o.visible?(l(),a("span",st," Visible ")):(l(),a("span",at," Oculto ")),e("div",lt,[e("button",{onClick:S=>z(o),class:"p-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors dark:bg-gray-700 dark:hover:bg-gray-600"},t[22]||(t[22]=[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)]),8,nt),e("button",{onClick:S=>A(o.id),class:"p-2 bg-red-50 hover:bg-red-100 rounded-lg transition-colors dark:bg-gray-700 dark:hover:bg-gray-600"},t[23]||(t[23]=[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,it)])])])],4))),128))])]),L(X,{modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=o=>g.value=o),title:x.value?"Editar Producto":"Añadir Producto",width:"500","before-close":R,class:"dark:bg-gray-900 dark:text-white"},{default:h(()=>[e("form",{onSubmit:t[10]||(t[10]=se(o=>x.value?K():G(),["prevent"])),enctype:"multipart/form-data",class:"max-w-md mx-auto dark:bg-gray-900"},[e("div",dt,[m(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n(r).nombre=o),id:"nombre",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:""},null,512),[[v,n(r).nombre]]),t[24]||(t[24]=e("label",{for:"nombre",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-200 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-100 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Nombre del producto",-1))]),e("div",null,[t[26]||(t[26]=e("label",{for:"id_categoria",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Categoría",-1)),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>n(r).id_categoria=o),id:"id_categoria",required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[t[25]||(t[25]=e("option",{value:""},"Seleccione una categoría",-1)),(l(!0),a(f,null,k(_.value,o=>(l(),a("option",{key:o.id,value:o.id},i(o.nombre),9,ct))),128))],512),[[j,n(r).id_categoria]])]),e("div",ut,[t[28]||(t[28]=e("label",{for:"id_almacen",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Almacén",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>n(r).id_almacen=o),id:"id_almacen",required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[t[27]||(t[27]=e("option",{value:""},"Seleccione un almacén",-1)),(l(!0),a(f,null,k(w.value,o=>(l(),a("option",{key:o.id,value:o.id},i(o.nombre),9,gt))),128))],512),[[j,n(r).id_almacen]])]),e("div",mt,[t[29]||(t[29]=e("label",{for:"descripcion",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Descripción",-1)),m(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>n(r).descripcion=o),id:"descripcion",rows:"3",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Descripción del producto..."},null,512),[[v,n(r).descripcion]])]),e("div",bt,[t[30]||(t[30]=e("label",{for:"precio",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Precio (Bs.)",-1)),m(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=o=>n(r).precio=o),id:"precio",step:"0.01",min:"0",required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"0.00"},null,512),[[v,n(r).precio]])]),e("div",xt,[t[32]||(t[32]=e("label",{for:"id_promocion",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Promoción",-1)),m(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>n(r).id_promocion=o),id:"id_promocion",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[t[31]||(t[31]=e("option",{value:""},"Elegir promoción",-1)),(l(!0),a(f,null,k(n(H),o=>(l(),a("option",{key:o.id,value:o.id},i(o.descuento)+"% de descuento ",9,pt))),128))],512),[[j,n(r).id_promocion]])]),e("div",ft,[m(e("input",{id:"visible",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=o=>n(r).visible=o),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[oe,n(r).visible]]),t[33]||(t[33]=e("label",{for:"visible",class:"ms-2 text-sm font-medium text-gray-900 dark:text-white"},"Producto visible en la tienda",-1))]),e("div",kt,[t[37]||(t[37]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Imagen del producto",-1)),L(Q,{class:"upload-demo","http-request":F,accept:"image/*","show-file-list":!1,"auto-upload":!0},{tip:h(()=>t[35]||(t[35]=[e("div",{class:"el-upload__tip"}," Solo archivos JPG/PNG/GIF con tamaño menor a 2MB ",-1)])),default:h(()=>[L(d,{type:"primary",icon:n(re)},{default:h(()=>t[34]||(t[34]=[O("Seleccionar imagen")])),_:1},8,["icon"])]),_:1}),b.value?(l(),a("div",yt,[e("img",{src:b.value,class:"max-h-64 rounded-lg border border-gray-200 dark:border-gray-700"},null,8,vt),e("button",{onClick:t[8]||(t[8]=o=>{b.value="",n(r).imagen=null}),type:"button",class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors"},t[36]||(t[36]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):I("",!0)]),e("div",ht,[e("button",{onClick:t[9]||(t[9]=o=>g.value=!1),type:"button",class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}," Cancelar "),e("button",_t,i(x.value?"Actualizar":"Guardar"),1)])],32)]),_:1},8,["modelValue","title"])])}}};export{St as default};
