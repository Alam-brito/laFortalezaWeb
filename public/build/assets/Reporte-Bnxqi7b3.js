import{r as s,B as W,J as y,j as B,c as a,b,f as v,a as t,l as h,v as P,I as E,F as M,k as _,w as D,h as k,d as c,o as r,e as q,t as d}from"./app-BBDfuzFB.js";import{S as i}from"./sweetalert2-z6gKu1nJ.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"max-w-4xl mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-lg p-14 mt-8"},ee={class:"p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md"},te={action:""},oe={class:"mb-5"},re={class:"mb-5"},ae={class:"mb-5"},se=["innerHTML"],le={class:"flex justify-center mt-8"},de={key:1},ne={key:2,class:"flex items-center"},ie={class:"p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md"},ce={action:""},ue={class:"mb-5"},pe={class:"mb-5"},ge={class:"mb-5"},be=["innerHTML"],xe={class:"flex justify-center mt-8"},fe={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},ye={key:2},me={key:3,class:"flex items-center"},ve={class:"space-y-2"},he={class:"space-y-2"},ke={class:"space-y-2"},we=["value"],ze={key:0,class:"text-center py-4"},Ve={key:1,class:"overflow-x-auto mt-6"},Me={class:"w-full border-collapse border border-gray-300 dark:border-gray-600"},_e={class:"border border-gray-300 p-2"},Ce={class:"border border-gray-300 p-2"},je={class:"border border-gray-300 p-2"},Be={class:"border border-gray-300 p-2"},Ee={class:"border border-gray-300 p-2"},$e={class:"border border-gray-300 p-2"},Fe=["value"],Ne=["value"],Te={key:2,class:"text-center py-4"},Ae={key:3,class:"overflow-x-auto mt-6"},Ue={class:"w-full border-collapse border border-gray-300 dark:border-gray-600"},Ie={class:"border border-gray-300 p-2"},Re={class:"border border-gray-300 p-2"},He={class:"border border-gray-300 p-2"},Se={class:"border border-gray-300 p-2"},Le={class:"border border-gray-300 p-2"},Pe={class:"border border-gray-300 p-2"},De={key:0},qe={key:1},Ge={class:"border border-gray-300 p-2"},Ze={__name:"Reporte",setup(Je){const w=s(""),z=s(""),$=s("todos"),U=s([]),x=s([]),F=s(!1),N=s(!1),I=s([]),R=s([]),f=s([]),T=s("todos"),A=s("todos"),C=s("todos");W(async()=>{try{const l=await y.get(route("obtener.usuarios"));U.value=l.data;const e=await y.get(route("obtener.productos"));I.value=e.data;const m=await y.get(route("obtener.almacenes"));R.value=m.data}catch(l){console.error("Error al cargar datos:",l)}});const G=async()=>{if(!w.value||!z.value){i.fire("Error","Debe seleccionar ambas fechas","error");return}F.value=!0;try{const l=await y.post(route("buscar.ventas"),{fechaInicio:w.value,fechaFin:z.value,id_user:$.value});x.value=l.data,x.value.length===0&&i.fire("Sin resultados","No se encontraron ventas en este rango","info")}catch{i.fire("Error","No se pudo obtener los datos","error")}finally{F.value=!1}},Z=async()=>{console.log("Tipo de Movimiento seleccionado:",C.value),N.value=!0;try{const l=await y.post(route("buscar.movimientos"),{fechaInicio:w.value,fechaFin:z.value,id_producto:T.value,id_almacen:A.value,tipo_movimiento:C.value.trim()});f.value=l.data,console.log("Resultados obtenidos:",f.value),f.value.length===0&&i.fire("Sin resultados","No se encontraron movimientos en este rango","info")}catch{i.fire("Error","No se pudo obtener los datos","error")}finally{N.value=!1}},V=s(!1),j=s(!1),J=()=>{if(x.value.length===0){i.fire("Error","No hay datos para enviar","error");return}u.value=[...new Set(x.value.map(e=>e.email))].join(", ");const l=`
  <h2 style="text-align: center; font-family: Arial, sans-serif; color: #333; margin-bottom: 10px;">
    ðŸ“Š <span style="color: #007bff;">Reporte de Ventas</span>
  </h2>
  <table role="presentation" style="width: 100%; border-collapse: collapse; border-spacing: 0; font-family: Arial, sans-serif; border: 1px solid #ccc; mso-table-lspace:0pt; mso-table-rspace:0pt;">
    <thead>
      <tr>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Cliente</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Email</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Fecha</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Monto (Bs.)</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Pago</th>
      </tr>
    </thead>
    <tbody>
      ${x.value.map(e=>`
        <tr>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.nombre}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">
            <a href="mailto:${e.email}" style="color: #007bff; text-decoration: none;">${e.email}</a>
          </td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.fecha}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${Number(e.total).toFixed(2)}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.tipo_pago}</td>
        </tr>
      `).join("")}
    </tbody>
  </table>
`;g.value=l,V.value=!0},K=()=>{if(f.value.length===0){i.fire("Error","No hay datos para enviar","error");return}const l=`
  <h2 style="text-align: center; font-family: Arial, sans-serif; color: #333; margin-bottom: 10px;">
    ðŸ“¦ <span style="color: #007bff;">Reporte de Movimientos de Inventario</span>
  </h2>
  <table role="presentation" style="width: 100%; border-collapse: collapse; border-spacing: 0; font-family: Arial, sans-serif; border: 1px solid #ccc; mso-table-lspace:0pt; mso-table-rspace:0pt;">
    <thead>
      <tr>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Producto</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">AlmacÃ©n</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Fecha</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Glosa</th> <!-- Nueva columna -->
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Tipo</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Cantidad</th>
        <th style="background-color: #007bff; color: white; padding: 5px; text-align: center; font-size: 14px; border: 1px solid #ccc;">Usuario</th>
      </tr>
    </thead>
    <tbody>
      ${f.value.map(e=>`
        <tr>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.producto}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.almacen}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.fecha}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.glosa}</td> <!-- Nueva celda -->
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.tipo}</td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">
            ${e.tipo==="egreso"?`- ${e.cantidad} uds.`:`+ ${e.cantidad} uds.`}
          </td>
          <td style="border: 1px solid #ccc; text-align: center; padding: 5px; font-size: 13px;">${e.usuario}</td>
        </tr>
      `).join("")}
    </tbody>
  </table>
`;g.value=l,j.value=!0},u=s(""),p=s(""),g=s(""),n=s(!1),O=async()=>{if(!u.value||!g.value){i.fire("Error","Debe completar todos los campos","error");return}n.value=!0;try{p.value="Reporte de ventas",await y.post(route("enviar.correo"),{to:u.value,subject:p.value,message:g.value}),i.fire({title:"Ã‰xito",text:"Correo enviado correctamente",icon:"success",timer:2e3,timerProgressBar:!0}),V.value=!1}catch{i.fire("Error","No se pudo enviar el correo","error"),V.value=!1}finally{n.value=!1}},Q=async()=>{if(!u.value||!g.value){i.fire("Error","No hay datos para enviar","error");return}n.value=!0;try{p.value="Reporte de Movimientos de Inventario",await y.post(route("enviar.correo"),{to:u.value,subject:p.value,message:g.value}),i.fire({title:"Ã‰xito",text:"Correo enviado correctamente",icon:"success",timer:2e3,timerProgressBar:!0}),j.value=!1}catch{i.fire("Error","No se pudo enviar el correo","error")}finally{n.value=!1}};return(l,e)=>{const m=B("el-input"),H=B("el-icon"),S=B("el-button"),L=B("el-dialog");return r(),a("div",Y,[b(L,{modelValue:V.value,"onUpdate:modelValue":e[2]||(e[2]=o=>V.value=o),width:"800px","before-close":l.handleClose,class:"dark:bg-gray-900 dark:text-white shadow-lg rounded-lg"},{default:v(()=>[t("div",ee,[e[19]||(e[19]=t("h2",{class:"text-2xl font-semibold text-gray-800 dark:text-white text-center mb-6"}," ðŸ“§ Enviar Correo ElectrÃ³nico ",-1)),t("form",te,[t("div",oe,[e[12]||(e[12]=t("label",{for:"to",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"ðŸ“¨ Destinatarios:",-1)),b(m,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),name:"to",id:"to",type:"text",size:"large",placeholder:"ejemplo1@gmail.com, ejemplo2@gmail.com",required:"",class:"w-full"},null,8,["modelValue"]),e[13]||(e[13]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Introduzca los emails separados por coma. ",-1))]),t("div",re,[e[14]||(e[14]=t("label",{for:"subject",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"âœ‰ï¸ Asunto:",-1)),b(m,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),name:"subject",id:"subject",type:"text",size:"large",placeholder:"Introduzca el asunto",required:"",class:"w-full"},null,8,["modelValue"])]),t("div",ae,[e[15]||(e[15]=t("label",{for:"message",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"ðŸ“ Mensaje:",-1)),t("div",{innerHTML:g.value,class:"p-4 border rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white"},null,8,se)]),t("div",le,[b(S,{type:"primary","native-type":"submit",size:"large",onClick:O,disabled:n.value},{default:v(()=>[n.value?c("",!0):(r(),q(H,{key:0},{default:v(()=>e[16]||(e[16]=[t("i",{class:"fas fa-paper-plane"},null,-1)])),_:1})),e[18]||(e[18]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})],-1)),n.value?c("",!0):(r(),a("span",de,"Enviar Reporte de ventas")),n.value?(r(),a("span",ne,e[17]||(e[17]=[t("svg",{class:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 16 0H4z"})],-1),k(" Enviando... ")]))):c("",!0)]),_:1},8,["disabled"])])])])]),_:1},8,["modelValue","before-close"]),b(L,{modelValue:j.value,"onUpdate:modelValue":e[5]||(e[5]=o=>j.value=o),width:"800px","before-close":l.handleClose,class:"dark:bg-gray-900 dark:text-white shadow-lg rounded-lg"},{default:v(()=>[t("div",ie,[e[27]||(e[27]=t("h2",{class:"text-2xl font-semibold text-gray-800 dark:text-white text-center mb-6"}," ðŸ“§ Enviar Reporte de Movimientos de Inventario ",-1)),t("form",ce,[t("div",ue,[e[20]||(e[20]=t("label",{for:"to",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"ðŸ“¨ Destinatarios:",-1)),b(m,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),name:"to",id:"to",type:"text",size:"large",placeholder:"ejemplo1@gmail.com, ejemplo2@gmail.com",required:"",class:"w-full"},null,8,["modelValue"]),e[21]||(e[21]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Introduzca los emails separados por coma. ",-1))]),t("div",pe,[e[22]||(e[22]=t("label",{for:"subject",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"âœ‰ï¸ Asunto:",-1)),b(m,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o),name:"subject",id:"subject",type:"text",size:"large",placeholder:"Introduzca el asunto",required:"",class:"w-full"},null,8,["modelValue"])]),t("div",ge,[e[23]||(e[23]=t("label",{for:"message",class:"block text-gray-700 dark:text-gray-300 font-medium mb-1 text-lg"},"ðŸ“ Mensaje:",-1)),t("div",{innerHTML:g.value,class:"p-4 border rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white"},null,8,be)]),t("div",xe,[b(S,{type:"primary","native-type":"submit",size:"large",onClick:Q,disabled:n.value},{default:v(()=>[n.value?c("",!0):(r(),q(H,{key:0},{default:v(()=>e[24]||(e[24]=[t("i",{class:"fas fa-paper-plane"},null,-1)])),_:1})),n.value?c("",!0):(r(),a("svg",fe,e[25]||(e[25]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75"},null,-1)]))),n.value?c("",!0):(r(),a("span",ye,"Enviar Reporte de Movimientos")),n.value?(r(),a("span",me,e[26]||(e[26]=[t("svg",{class:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 16 0H4z"})],-1),k(" Enviando... ")]))):c("",!0)]),_:1},8,["disabled"])])])])]),_:1},8,["modelValue","before-close"]),e[46]||(e[46]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-4"},"BÃºsqueda de Ventas",-1)),t("form",{onSubmit:D(G,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",ve,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ðŸ“… Fecha Inicio",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=o=>w.value=o),class:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all dark:bg-gray-700 dark:text-white"},null,512),[[P,w.value]])]),t("div",he,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ðŸ“… Fecha Fin",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=o=>z.value=o),class:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all dark:bg-gray-700 dark:text-white"},null,512),[[P,z.value]])]),t("div",ke,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ðŸ‘¤ Usuario",-1)),h(t("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>$.value=o),class:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all appearance-none"},[e[30]||(e[30]=t("option",{value:"todos"},"Todos",-1)),(r(!0),a(M,null,_(U.value,o=>(r(),a("option",{key:o.id,value:o.id,class:"hover:bg-blue-50 dark:hover:bg-gray-600"},d(o.name),9,we))),128))],512),[[E,$.value]])]),e[32]||(e[32]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition w-full"}," Buscar ")],-1))],32),F.value?(r(),a("div",ze,e[33]||(e[33]=[t("div",{class:"inline-flex items-center text-blue-600 dark:text-blue-400"},[t("svg",{class:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),k(" Buscando ventas... ")],-1)]))):c("",!0),x.value.length>0?(r(),a("div",Ve,[t("table",Me,[e[34]||(e[34]=t("thead",{class:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"},[t("tr",null,[t("th",{class:"border border-gray-300 p-2"},"CÃ³digo"),t("th",{class:"border border-gray-300 p-2"},"Nombre"),t("th",{class:"border border-gray-300 p-2"},"Email"),t("th",{class:"border border-gray-300 p-2"},"Fecha"),t("th",{class:"border border-gray-300 p-2"},"Monto"),t("th",{class:"border border-gray-300 p-2"},"Tipo de Pago")])],-1)),t("tbody",null,[(r(!0),a(M,null,_(x.value,o=>(r(),a("tr",{key:o.id,class:"text-gray-700 dark:text-gray-200 text-center"},[t("td",_e,d(o.id),1),t("td",Ce,d(o.nombre),1),t("td",je,d(o.email),1),t("td",Be,d(o.fecha),1),t("td",Ee,"Bs. "+d(Number(o.total).toFixed(2)),1),t("td",$e,d(o.tipo_pago),1)]))),128))])])])):c("",!0),t("div",{class:"flex justify-center mt-6"},[t("button",{type:"button",onClick:J,class:"text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 focus:ring-4 focus:outline-none focus:ring-[#1da1f2]/50 font-medium rounded-lg text-sm px-6 py-3 text-center inline-flex items-center dark:focus:ring-[#1da1f2]/55"},e[35]||(e[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3"})],-1),k(" Cargar formulario ")]))]),e[47]||(e[47]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white text-center mt-8 mb-4"},"Movimientos de Productos",-1)),t("form",{onSubmit:D(Z,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[37]||(e[37]=t("label",{class:"text-gray-700 dark:text-gray-200"},"Producto:",-1)),h(t("select",{"onUpdate:modelValue":e[9]||(e[9]=o=>T.value=o),class:"w-full px-4 py-2 border rounded-lg dark:text-gray-800"},[e[36]||(e[36]=t("option",{value:"todos"},"Todos",-1)),(r(!0),a(M,null,_(I.value,o=>(r(),a("option",{key:o.id,value:o.id},d(o.nombre),9,Fe))),128))],512),[[E,T.value]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"text-gray-700 dark:text-gray-200"},"AlmacÃ©n:",-1)),h(t("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>A.value=o),class:"w-full px-4 py-2 border rounded-lg dark:text-gray-800"},[e[38]||(e[38]=t("option",{value:"todos"},"Todos",-1)),(r(!0),a(M,null,_(R.value,o=>(r(),a("option",{key:o.id,value:o.id},d(o.nombre),9,Ne))),128))],512),[[E,A.value]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"text-gray-700 dark:text-gray-200"},"Tipo Movimiento:",-1)),h(t("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>C.value=o),class:"w-full px-4 py-2 border rounded-lg dark:text-gray-800"},e[40]||(e[40]=[t("option",{value:"todos"},"Todos",-1),t("option",{value:"ingreso"},"Ingreso",-1),t("option",{value:"egreso"},"Egreso",-1)]),512),[[E,C.value]])]),e[42]||(e[42]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition w-full"}," Buscar ")],-1))],32),N.value?(r(),a("div",Te,e[43]||(e[43]=[t("div",{class:"inline-flex items-center text-blue-600 dark:text-blue-400"},[t("svg",{class:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),k(" Buscando movimientos... ")],-1)]))):c("",!0),f.value.length>0?(r(),a("div",Ae,[t("table",Ue,[e[44]||(e[44]=t("thead",{class:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"},[t("tr",null,[t("th",{class:"border border-gray-300 p-2"},"Producto"),t("th",{class:"border border-gray-300 p-2"},"AlmacÃ©n"),t("th",{class:"border border-gray-300 p-2"},"Fecha"),t("th",{class:"border border-gray-300 p-2"},"Glosa"),t("th",{class:"border border-gray-300 p-2"},"Tipo de Movimiento"),t("th",{class:"border border-gray-300 p-2"},"Cantidad"),t("th",{class:"border border-gray-300 p-2"},"Usuario")])],-1)),t("tbody",null,[(r(!0),a(M,null,_(f.value,o=>(r(),a("tr",{key:`${o.id_producto}-${o.id_almacen}-${o.fecha}`,class:"text-gray-700 dark:text-gray-200 text-center"},[t("td",Ie,d(o.producto),1),t("td",Re,d(o.almacen),1),t("td",He,d(o.fecha),1),t("td",Se,d(o.glosa),1),t("td",Le,d(o.tipo),1),t("td",Pe,[o.tipo=="egreso"?(r(),a("div",De," -"+d(o.cantidad)+"uds. ",1)):(r(),a("div",qe," +"+d(o.cantidad)+"uds. ",1))]),t("td",Ge,d(o.usuario),1)]))),128))])])])):c("",!0),t("div",{class:"flex justify-center mt-6"},[t("button",{type:"button",onClick:K,class:"text-black bg-[#F7BE38] hover:bg-[#F7BE38]/90 focus:ring-4 focus:outline-none focus:ring-[#F7BE38]/50 font-medium rounded-lg text-sm px-6 py-3 text-center inline-flex items-center dark:focus:ring-[#F7BE38]/55"},e[45]||(e[45]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})],-1),k(" Cargar Reporte de Movimientos ")]))])])}}},We=X(Ze,[["__scopeId","data-v-7a7f6507"]]);export{We as default};
