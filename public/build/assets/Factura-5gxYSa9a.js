import u from"./UserLayouts-UOCQsN5F.js";import{i as p,e as x,f as m,o as l,a as t,h as d,t as e,u as a,c as i,k as y,F as f}from"./app-DDpxVrWO.js";import{h as _}from"./html2pdf-D_l13Xhm.js";import"./index-aTURRg_3.js";import"./Header-kIaOuE_D.js";import"./sweetalert2-z6gKu1nJ.js";import"./Footer-WZV7pyVk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const h={id:"factura-pdf",class:"w-full max-w-5xl mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 transition-colors duration-300"},k={class:"mt-6 border-b pb-4"},F={class:"text-gray-600 dark:text-gray-200"},v={class:"mt-6"},w={class:"overflow-x-auto"},B={class:"w-full border-collapse border border-gray-300 dark:border-gray-600"},D={class:"border border-gray-300 p-2"},P={class:"border border-gray-300 p-2"},T={class:"border border-gray-300 p-2"},N={class:"border border-gray-300 p-2"},C={class:"border border-gray-300 p-2"},S={class:"border border-gray-300 p-2"},E={class:"mt-6 text-right border-t pt-4"},V={class:"text-lg"},$={class:"text-lg text-red-600"},j={class:"text-xl font-bold text-gray-800 dark:text-gray-200 mt-2"},J={__name:"Factura",props:["count"],setup(c){const s=p().props.factura;console.log("Factura:",s);const g=()=>{const n=document.getElementById("factura-pdf");_().set({margin:10,filename:`Factura_${s.fecha}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2}}).from(n).save()};return(n,r)=>(l(),x(u,null,{default:m(()=>[t("div",h,[r[7]||(r[7]=t("div",{class:"text-center border-b pb-4"},[t("h2",{class:"text-3xl font-bold text-gray-800 dark:text-white"},"Factura"),t("p",{class:"text-gray-500 dark:text-gray-300"},"Detalles de tu compra")],-1)),t("div",k,[r[1]||(r[1]=t("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"},"Método de Pago",-1)),t("p",F,[r[0]||(r[0]=t("strong",null,"Tipo:",-1)),d(" "+e(a(s).metodo_pago),1)])]),t("div",v,[r[3]||(r[3]=t("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Productos",-1)),t("div",w,[t("table",B,[r[2]||(r[2]=t("thead",null,[t("tr",{class:"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300"},[t("th",{class:"border border-gray-300 p-2"},"Producto"),t("th",{class:"border border-gray-300 p-2"},"Descripción"),t("th",{class:"border border-gray-300 p-2"},"Cantidad"),t("th",{class:"border border-gray-300 p-2"},"Precio"),t("th",{class:"border border-gray-300 p-2"},"Descuento"),t("th",{class:"border border-gray-300 p-2"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),i(f,null,y(a(s).productos,(o,b)=>(l(),i("tr",{key:b,class:"text-gray-700 dark:text-gray-200 text-center"},[t("td",D,e(o.producto),1),t("td",P,e(o.descripcion),1),t("td",T,e(o.cantidad),1),t("td",N,"Bs. "+e(Number(o.precio).toFixed(2)),1),t("td",C,"-"+e(o.descuento)+"%",1),t("td",S,"Bs. "+e(Number(o.subtotal).toFixed(2)),1)]))),128))])])])]),t("div",E,[t("p",V,[r[4]||(r[4]=t("strong",null,"Subtotal:",-1)),d(" Bs. "+e(a(s).subtotal.toFixed(2)),1)]),t("p",$,[r[5]||(r[5]=t("strong",null,"Descuento Total:",-1)),d(" Bs. "+e(a(s).descuento.toFixed(2)),1)]),t("p",j,[r[6]||(r[6]=t("strong",null,"Total:",-1)),d(" Bs. "+e(a(s).total.toFixed(2)),1)])]),t("div",{class:"mt-6 text-center"},[t("button",{onClick:g,class:"bg-blue-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-blue-700 transition"}," Descargar Factura (PDF) ")])]),t("p",null,"Total de visitas: "+e(c.count),1)]),_:1}))}};export{J as default};
